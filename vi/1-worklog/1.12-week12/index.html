<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.134.3"><meta name=description content><meta name=author content="thienlh@thienlu.com"><link rel=icon href=../../../images/favicon.png type=image/png><title>Worklog Tuần 12 :: Báo cáo thực tập</title>
<link href=../../../css/nucleus.css?1765287969 rel=stylesheet><link href=../../../css/fontawesome-all.min.css?1765287969 rel=stylesheet><link href=../../../css/hybrid.css?1765287969 rel=stylesheet><link href=../../../css/featherlight.min.css?1765287969 rel=stylesheet><link href=../../../css/perfect-scrollbar.min.css?1765287969 rel=stylesheet><link href=../../../css/auto-complete.css?1765287969 rel=stylesheet><link href=../../../css/atom-one-dark-reasonable.css?1765287969 rel=stylesheet><link href=../../../css/theme.css?1765287969 rel=stylesheet><link href=../../../css/hugo-theme.css?1765287969 rel=stylesheet><link href=../../../css/theme-workshop.css?1765287969 rel=stylesheet><script src=../../../js/jquery-3.3.1.min.js?1765287969></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../../vi/1-worklog/1.12-week12/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=../../../><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../../js/lunr.min.js?1765287969></script><script type=text/javascript src=../../../js/auto-complete.js?1765287969></script><script type=text/javascript>var baseurl="https://duc140205.github.io/aws-internship-report//vi"</script><script type=text/javascript src=../../../js/search.js?1765287969></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1-worklog/ title="Nhật ký công việc" class="dd-item
parent"><a href=../../../vi/1-worklog/><b>1. </b>Nhật ký công việc
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1-worklog/1.1-week1/ title="Worklog Tuần 1" class=dd-item><a href=../../../vi/1-worklog/1.1-week1/><b>1.1. </b>Worklog Tuần 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.2-week2/ title="Worklog Tuần 2" class=dd-item><a href=../../../vi/1-worklog/1.2-week2/><b>1.2. </b>Worklog Tuần 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.3-week3/ title="Worklog Tuần 3" class=dd-item><a href=../../../vi/1-worklog/1.3-week3/><b>1.3. </b>Worklog Tuần 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.4-week4/ title="Worklog Tuần 4" class=dd-item><a href=../../../vi/1-worklog/1.4-week4/><b>1.4. </b>Worklog Tuần 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.5-week5/ title="Worklog Tuần 5" class=dd-item><a href=../../../vi/1-worklog/1.5-week5/><b>1.5. </b>Worklog Tuần 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.6-week6/ title="Worklog Tuần 6" class=dd-item><a href=../../../vi/1-worklog/1.6-week6/><b>1.6. </b>Worklog Tuần 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.7-week7/ title="Worklog Tuần 7" class=dd-item><a href=../../../vi/1-worklog/1.7-week7/><b>1.7. </b>Worklog Tuần 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.8-week8/ title="Worklog Tuần 8" class=dd-item><a href=../../../vi/1-worklog/1.8-week8/><b>1.8. </b>Worklog Tuần 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.9-week9/ title="Worklog Tuần 9" class=dd-item><a href=../../../vi/1-worklog/1.9-week9/><b>1.9. </b>Worklog Tuần 9
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.10-week10/ title="Worklog Tuần 10" class=dd-item><a href=../../../vi/1-worklog/1.10-week10/><b>1.10. </b>Worklog Tuần 10
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.11-week11/ title="Worklog Tuần 11" class=dd-item><a href=../../../vi/1-worklog/1.11-week11/><b>1.11. </b>Worklog Tuần 11
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1-worklog/1.12-week12/ title="Worklog Tuần 12" class="dd-item
active"><a href=../../../vi/1-worklog/1.12-week12/><b>1.12. </b>Worklog Tuần 12
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/2-proposal/ title="Bản đề xuất" class=dd-item><a href=../../../vi/2-proposal/><b>2. </b>Bản đề xuất
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/ title="Các bài blogs đã dịch" class=dd-item><a href=../../../vi/3-blogstranslated/><b>3. </b>Các bài blogs đã dịch
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/3-blogstranslated/3.1-blog1/ title="Blog 1" class=dd-item><a href=../../../vi/3-blogstranslated/3.1-blog1/><b>3.1. </b>Blog 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.2-blog2/ title="Blog 2" class=dd-item><a href=../../../vi/3-blogstranslated/3.2-blog2/><b>3.2. </b>Blog 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3-blogstranslated/3.3-blog3/ title="Blog 3" class=dd-item><a href=../../../vi/3-blogstranslated/3.3-blog3/><b>3.3. </b>Blog 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/4-eventparticipated/ title="Các events đã tham gia" class=dd-item><a href=../../../vi/4-eventparticipated/><b>4. </b>Các events đã tham gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4-eventparticipated/4.1-event1/ title="Event 1" class=dd-item><a href=../../../vi/4-eventparticipated/4.1-event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.2-event2/ title="Event 2" class=dd-item><a href=../../../vi/4-eventparticipated/4.2-event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4-eventparticipated/4.3-event3/ title="Event 3" class=dd-item><a href=../../../vi/4-eventparticipated/4.3-event3/><b>4.3. </b>Event 3
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class=dd-item><a href=../../../vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/5.1-workshop-overview/ title="Giới thiệu" class=dd-item><a href=../../../vi/5-workshop/5.1-workshop-overview/><b>5.1. </b>Giới thiệu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.2-prerequiste/ title="Các bước chuẩn bị" class=dd-item><a href=../../../vi/5-workshop/5.2-prerequiste/><b>5.2. </b>Các bước chuẩn bị
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.3-enablebedrockmodels/ title="Kích hoạt Bedrock Models" class=dd-item><a href=../../../vi/5-workshop/5.3-enablebedrockmodels/><b>5.3. </b>Kích hoạt Bedrock Models
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.4-configureawscli/ title="Cấu hình AWS CLI" class=dd-item><a href=../../../vi/5-workshop/5.4-configureawscli/><b>5.4. </b>Cấu hình AWS CLI
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.5-preparedata/ title="Chuẩn bị Dữ liệu" class=dd-item><a href=../../../vi/5-workshop/5.5-preparedata/><b>5.5. </b>Chuẩn bị Dữ liệu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.6-deploysolution/ title="Triển khai Giải pháp" class=dd-item><a href=../../../vi/5-workshop/5.6-deploysolution/><b>5.6. </b>Triển khai Giải pháp
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.7-setupmessengerbot/ title="Thiết lập Messenger Bot" class=dd-item><a href=../../../vi/5-workshop/5.7-setupmessengerbot/><b>5.7. </b>Thiết lập Messenger Bot
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.8-setupadmindashboard/ title="Thiết lập Admin Dashboard" class=dd-item><a href=../../../vi/5-workshop/5.8-setupadmindashboard/><b>5.8. </b>Thiết lập Admin Dashboard
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.9-usingchatbot/ title="Sử dụng Chatbot" class=dd-item><a href=../../../vi/5-workshop/5.9-usingchatbot/><b>5.9. </b>Sử dụng Chatbot
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.10-usingadmindashboard/ title="Sử dụng Admin Dashboard" class=dd-item><a href=../../../vi/5-workshop/5.10-usingadmindashboard/><b>5.10. </b>Sử dụng Admin Dashboard
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.11-usingconsultantportal/ title="Sử dụng Consultant Portal" class=dd-item><a href=../../../vi/5-workshop/5.11-usingconsultantportal/><b>5.11. </b>Sử dụng Consultant Portal
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/5.12-cleanup/ title="Dọn dẹp Tài nguyên" class=dd-item><a href=../../../vi/5-workshop/5.12-cleanup/><b>5.12. </b>Dọn dẹp Tài nguyên
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6-self-evaluation/ title="Tự đánh giá" class=dd-item><a href=../../../vi/6-self-evaluation/><b>6. </b>Tự đánh giá
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7-feedback/ title="Chia sẻ, đóng góp ý kiến" class=dd-item><a href=../../../vi/7-feedback/><b>7. </b>Chia sẻ, đóng góp ý kiến
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://duc140205.github.io/aws-internship-report/1-worklog/1.12-week12/>English</option><option id=vi value=https://duc140205.github.io/aws-internship-report/vi/1-worklog/1.12-week12/ selected>Tiếng Việt</option></select><svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><span id=lastUpdated style=color:orange></span>
</i><script>const today=new Date,formattedDate=today.toLocaleDateString("en-GB");document.getElementById("lastUpdated").textContent=formattedDate</script></left><left><br><br><b>Team</b><br><i><a href=https://www.facebook.com/groups/660548818043427 style=color:orange>First Cloud Journey</a><br></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../../vi/>Báo cáo thực tập</a> > <a href=../../../vi/1-worklog/>Nhật ký công việc</a> > Worklog Tuần 12</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#mục-tiêu-tuần-12>Mục tiêu tuần 12:</a></li><li><a href=#các-công-việc-cần-triển-khai-trong-tuần-này>Các công việc cần triển khai trong tuần này:</a></li><li><a href=#kết-quả-đạt-được-tuần-12>Kết quả đạt được tuần 12:</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Worklog Tuần 12</h1><h3 id=mục-tiêu-tuần-12>Mục tiêu tuần 12:</h3><ul><li><p>Nắm vững quy trình deploy hạ tầng AWS bằng CDK và hiểu rõ mối quan hệ giữa các stack (VPC, RDS, Lambda, S3, API Gateway).</p></li><li><p>Hoàn thiện logic backend cho admin, bao gồm xử lý dữ liệu, thống kê và cơ chế archive RDS → S3.</p></li><li><p>Tối ưu cấu trúc hệ thống, refactor code backend và dashboard theo hướng tách biệt nghiệp vụ – dễ maintain – dễ mở rộng.</p></li><li><p>Tìm hiểu và triển khai các biện pháp nâng cao hiệu quả xử lý dữ liệu (checksum, giới hạn data load, tối ưu cơ chế đồng bộ).</p></li><li><p>Thành thạo việc quản lý tài nguyên AWS thông qua CLI, Console và đảm bảo deploy nhiều lần mà không gây conflict.</p></li></ul><h3 id=các-công-việc-cần-triển-khai-trong-tuần-này>Các công việc cần triển khai trong tuần này:</h3><table><thead><tr><th style=text-align:left>Thứ</th><th style=text-align:left>Công việc</th><th style=text-align:left>Ngày bắt đầu</th><th style=text-align:left>Ngày hoàn thành</th><th style=text-align:left>Nguồn tài liệu</th></tr></thead><tbody><tr><td style=text-align:left>2</td><td style=text-align:left>- Refactor lại quá trình deploy stack và comment các phần analytics không còn cần thiết.<br>- Điều chỉnh app.py để luôn deploy VPC, RDS và DB Init Stack; bật DashboardStack với dependency đúng.<br>- Comment trong dashboard_stack.py các tài nguyên Glue, archive và analytics (Lambda/EventBridge + API).<br>- Giảm kích thước instance RDS (từ SMALL → MICRO) và cấu hình storage = 20GB.</td><td style=text-align:left>24/11/2025</td><td style=text-align:left>24/11/2025</td><td style=text-align:left></td></tr><tr><td style=text-align:left>3</td><td style=text-align:left>- Bắt đầu deploy AppStack, DashboardStack và DBInitStack phục vụ backend cho admin.<br>- Fix lỗi do cấu hình max AZ = 1 khi tạo RDS (AWS yêu cầu tối thiểu 2 AZ). Dù tạo 2 AZ nhưng không tạo Multi-AZ, chỉ tạo thêm subnet nên không phát sinh thêm cost.<br>- Refactor API: xử lý body trả về dạng string từ API Gateway, cập nhật endpoint path, cải thiện logging.<br>- Chỉnh CDK: dùng đúng secret cho Lambda, cập nhật VPC/subnet, thêm rule SG cho HTTPS, comment Bedrock endpoint không dùng.<br>- Cập nhật asset bundling (cp -r thay cp -au).<br>- Hệ thống lại nghiệp vụ admin: chỉ thao tác lịch hẹn, assign consultant vào slot, thống kê lịch hẹn trong ngày.<br>- Admin upload file SQL → ArchiveData lưu vào S3 → các lần deploy sau sẽ lấy từ S3 thay vì upload lại.<br>- Hướng phát triển: cho Lambda index.py đọc schema khi deploy, đọc data từ S3 trước, khả thi.<br>- Định hướng lưu toàn bộ data on-premise lên S3, Lambda xử lý để đẩy lên RDS khi deploy đầu tiên; cập nhật data mới sẽ do ArchiveData xử lý.</td><td style=text-align:left>25/11/2025</td><td style=text-align:left>25/11/2025</td><td style=text-align:left></td></tr><tr><td style=text-align:left>4</td><td style=text-align:left>- Hardcode schema trong index.py và xóa schema khỏi thư mục dự án.<br>- Xử lý dữ liệu mới và lưu CSV để dùng cho Athena DDL sau này.<br>- Thêm API và UI dashboard overview, refactor database admin.<br>- Thêm API thống kê tổng quan, khách hàng, tư vấn viên, lịch hẹn, chương trình cộng đồng; cập nhật UI dashboard để hiển thị các thông tin này.<br>- Refactor DatabasePage: bỏ chức năng chạy SQL thô, tập trung vào schema và thống kê.<br>- Update CDK + IAM role để dùng bucket S3 mới và phân quyền đúng.<br>- Tách toàn bộ business logic admin dashboard vào service class (code/services/admin.py).<br>- Đổi tên AdminStack → FrontendStack cho đúng vai trò; update toàn bộ reference.</td><td style=text-align:left>26/11/2025</td><td style=text-align:left>26/11/2025</td><td style=text-align:left></td></tr><tr><td style=text-align:left>5</td><td style=text-align:left>- Họp với team về chiến lược load data từ S3 lên RDS mỗi lần bật RDS.<br>- Yêu cầu: không phải lúc nào cũng load toàn bộ data cũ. Các data động (như lịch hẹn, lịch làm việc) thay đổi liên tục nên không thể luôn load lại toàn bộ.<br>- Giải pháp: giới hạn khối lượng data cần load. Data cố định (như thông tin consultant) thì load đầy đủ. Data thay đổi theo ngày (lịch hẹn) thì load theo điều kiện, ví dụ: thống kê lịch hẹn theo ngày admin cần xem.<br>- Hiện tại: cố định load data có thời gian trong khoảng trước – sau ngày hiện tại 1 ngày.<br>- Chỉnh lại vpc_stack để import S3 bucket tạo thủ công từ CLI.<br>- aws s3 mb s3://meetassist-data-<account-id>-ap-southeast-1 &ndash;region ap-southeast-1<br>- Dọn dẹp DashboardStack, bỏ code Glue & analytics cũ.<br>- Cập nhật API cho customer và consultant, thêm logging cho AdminManager Lambda.</td><td style=text-align:left>27/11/2025</td><td style=text-align:left>27/11/2025</td><td style=text-align:left></td></tr><tr><td style=text-align:left>6</td><td style=text-align:left>- Quản lý EventBridge rule cho ArchiveData Lambda (bật/tắt/kiểm tra trạng thái/invoke thủ công).<br><br><strong>Disable:</strong> <code>aws events disable-rule --name MeetAssist-ArchiveSchedule</code><br><strong>Enable:</strong> <code>aws events enable-rule --name MeetAssist-ArchiveSchedule</code><br><strong>Check status:</strong> <code>aws events describe-rule --name MeetAssist-ArchiveSchedule</code><br><strong>Invoke:</strong> <code>aws lambda invoke --function-name DashboardStack-ArchiveData --payload "{}" --cli-binary-format raw-in-base64-out NUL</code><br><br>- Xử lý lỗi CSV mở bằng Excel bị lỗi UTF-8, hiện Lambda index.py đang hỗ trợ cả UTF-8 và UTF-8 BOM.<br>- Tạo logic checksum cho ArchiveData nhằm tránh upload lại CSV không thay đổi → giảm PUT request trên S3.<br>- <strong>Hướng 1:</strong> Không dùng checksum (ghi đè luôn). Dễ làm nhưng tốn chi phí và gây nhiễu timestamp.<br>- <strong>Hướng 2:</strong> Dùng checksum (khuyến nghị): tính MD5, nếu giống thì bỏ qua, khác thì upload.<br>- Tạo file archive_info.json trong S3 để:<br>- Theo dõi trạng thái archiving<br>- Lưu checksum<br>- Ghi lại thông tin số bản ghi, lỗi, thời gian cập nhật cuối<br>- Có thể dùng cho dashboard trong tương lai<br>- Implement cơ chế Archive RDS → S3 với scheduled Lambda:<br>- Tạo ArchiveService xử lý export CSV + upload S3 + metadata<br>- Lambda archive_handler chạy theo lịch (5 phút, mặc định tắt)<br>- Tự bỏ qua các bảng không thay đổi nhờ checksum<br>- Update CDK để deploy Lambda + IAM + EventBridge rule<br>- Cải thiện error handling cho nghiệp vụ consultant/appointment/program<br>- Update dashboard_handler docstring để mô tả rõ cơ chế tách biệt CRUD và archiving</td><td style=text-align:left>28/11/2025</td><td style=text-align:left>28/11/2025</td><td style=text-align:left></td></tr></tbody></table><h3 id=kết-quả-đạt-được-tuần-12>Kết quả đạt được tuần 12:</h3><ul><li>Refactor lại toàn bộ hệ thống backend & hạ tầng theo hướng tối ưu hơn và dễ maintain.</li><li>Nắm rõ cách triển khai và cấu hình VPC, RDS, S3, Lambda, EventBridge bằng CDK.</li><li>Hoàn thiện các API và UI dashboard phục vụ phần thống kê và quản trị.</li><li>Tối ưu quy trình import data & archive data giữa RDS ↔ S3.</li><li>Xây dựng cơ chế checksum giúp giảm cost S3 và tăng hiệu quả xử lý data.</li><li>Tách biệt rõ business logic vào service class để dễ dàng test và mở rộng.</li><li>Cải thiện logging, debugging và cấu trúc API Gateway – Lambda.</li><li>Hoàn thiện process lưu trữ data on-premise lên cloud và xử lý khi deploy lại.</li></ul><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../../vi/1-worklog/1.11-week11/ title="Worklog Tuần 11"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../../vi/2-proposal/ title="Bản đề xuất" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../../js/clipboard.min.js?1765287969></script><script src=../../../js/perfect-scrollbar.min.js?1765287969></script><script src=../../../js/perfect-scrollbar.jquery.min.js?1765287969></script><script src=../../../js/jquery.sticky.js?1765287969></script><script src=../../../js/featherlight.min.js?1765287969></script><script src=../../../js/highlight.pack.js?1765287969></script><script>hljs.initHighlightingOnLoad()</script><script src=../../../js/modernizr.custom-3.6.0.js?1765287969></script><script src=../../../js/learn.js?1765287969></script><script src=../../../js/hugo-learn.js?1765287969></script><link href=../../../mermaid/mermaid.css?1765287969 rel=stylesheet><script src=../../../mermaid/mermaid.js?1765287969></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,(e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date),(i=t.createElement(n),a=t.getElementsByTagName(n)[0]),i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>